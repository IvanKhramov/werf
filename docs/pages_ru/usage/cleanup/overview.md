---
title: Очистка
permalink: usage/cleanup/cleanup.html
---

При работе werf сохраняет данные как в container registry, так и на хосте, на котором запускается.

В случае с container registry очистка требуется для удаления неактуальных образов с учётом установленных политик очистки, а также используемых образов в Kubernetes.
На хосте все данные werf можно разделить на кеш, временные данные, которые остаются после запуска werf и более не требуются, а также локальные стадии в Docker, создаваемые при использовании werf без container registry.

Очистка container registry и хоста выполняется раздельно независимыми командами.
При очистке container registry поддерживается работа только с данными конкретного проекта, а очистка хоста по умолчанию выполняется сразу для всех проектов.

|                                                       | **Проект**                                       | **Все проекты**       |
|-------------------------------------------------------| :----------------------------------------------: | :-------------------: |
| Очистка неактуальных данных в **container registry**  | `werf cleanup --repo REPO`                       | -                     |
| Полная очистка **container registry**                 | `werf purge --repo REPO`                         | -                     |
| Очистка неактуальных данных **хоста**                 | `werf host cleanup --project-name PROJECT`__*__  | `werf host cleanup`   |
| Полная очистка **хоста**                              | `werf host purge --project-name PROJECT`__*__    | `werf host purge`     |

_, где __*__ указывает на неполную поддержку._

Следует отметить, что:
- **Очистку неактуальных данных** безопасно вызывать **в любой момент времени**, вручную или **автоматически**, с малыми рисками потерять критически важные данные, которые используются в production.
  - Более того werf без дополнительных настроек может производить очистку неактуальных данных хоста во время работы произвольных команд автоматически.
- **Полную очистку** данных не предполагается вызывать автоматически, только **вручную** и со знанием дела, потому что могут быть потеряны критически важные данные, которые используются в production.
